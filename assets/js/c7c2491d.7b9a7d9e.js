"use strict";(self.webpackChunkpushfeedback=self.webpackChunkpushfeedback||[]).push([[4351],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>k});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),u=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},d=function(e){var t=u(e.components);return a.createElement(s.Provider,{value:t},e.children)},p="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},h=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,s=e.parentName,d=i(e,["components","mdxType","originalType","parentName"]),p=u(n),h=r,k=p["".concat(s,".").concat(h)]||p[h]||c[h]||o;return n?a.createElement(k,l(l({ref:t},d),{},{components:n})):a.createElement(k,l({ref:t},d))}));function k(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,l=new Array(o);l[0]=h;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i[p]="string"==typeof e?e:r,l[1]=i;for(var u=2;u<o;u++)l[u]=n[u];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}h.displayName="MDXCreateElement"},7282:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>l,default:()=>c,frontMatter:()=>o,metadata:()=>i,toc:()=>u});var a=n(7462),r=(n(7294),n(3905));const o={},l="**Integrating PushFeedback into an Antora Site**",i={unversionedId:"installation/antora",id:"installation/antora",title:"**Integrating PushFeedback into an Antora Site**",description:"This guide details the steps to add PushFeedback to your Antora-generated documentation site.",source:"@site/docs/installation/antora.md",sourceDirName:"installation",slug:"/installation/antora",permalink:"/installation/antora",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Installation",permalink:"/category/installation"},next:{title:"**Integrating PushFeedback into a Docusaurus Site**",permalink:"/installation/docusaurus"}},s={},u=[{value:"<strong>Prerequisites</strong>",id:"prerequisites",level:2},{value:"<strong>1. Add PushFeedback Styles and Script</strong>",id:"1-add-pushfeedback-styles-and-script",level:2},{value:"<strong>a. Clone or Navigate to Your UI Bundle Repository</strong>",id:"a-clone-or-navigate-to-your-ui-bundle-repository",level:3},{value:"<strong>b. Modify the Handlebars Template</strong>",id:"b-modify-the-handlebars-template",level:3},{value:"<strong>c. Build the UI Bundle</strong>",id:"c-build-the-ui-bundle",level:3},{value:"<strong>2. Add the Feedback Button Component</strong>",id:"2-add-the-feedback-button-component",level:2},{value:"<strong>3. Update the Antora Playbook</strong>",id:"3-update-the-antora-playbook",level:2},{value:"<strong>4. Generate and Verify</strong>",id:"4-generate-and-verify",level:2},{value:"<strong>Final Thoughts</strong>",id:"final-thoughts",level:2}],d={toc:u},p="wrapper";function c(e){let{components:t,...n}=e;return(0,r.kt)(p,(0,a.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"integrating-pushfeedback-into-an-antora-site"},(0,r.kt)("strong",{parentName:"h1"},"Integrating PushFeedback into an Antora Site")),(0,r.kt)("p",null,"This guide details the steps to add PushFeedback to your Antora-generated documentation site."),(0,r.kt)("h2",{id:"prerequisites"},(0,r.kt)("strong",{parentName:"h2"},"Prerequisites")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"An Antora documentation site set up and running."),(0,r.kt)("li",{parentName:"ul"},"Familiarity with Antora's playbook configuration and component structure."),(0,r.kt)("li",{parentName:"ul"},"Your PushFeedback project ID.")),(0,r.kt)("h2",{id:"1-add-pushfeedback-styles-and-script"},(0,r.kt)("strong",{parentName:"h2"},"1. Add PushFeedback Styles and Script")),(0,r.kt)("p",null,"With Antora, the recommended way to add styles and scripts is to use a UI bundle. Here's how you can integrate PushFeedback into an existing or new UI bundle:"),(0,r.kt)("h3",{id:"a-clone-or-navigate-to-your-ui-bundle-repository"},(0,r.kt)("strong",{parentName:"h3"},"a. Clone or Navigate to Your UI Bundle Repository")),(0,r.kt)("p",null,"If you're using a custom UI for your Antora site, navigate to its directory. If not, consider cloning the default Antora UI:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-git",metastring:"clone https://gitlab.com/antora/antora-ui-default.git",clone:!0,"https://gitlab.com/antora/antora-ui-default.git":!0},"cd antora-ui-default\n")),(0,r.kt)("h3",{id:"b-modify-the-handlebars-template"},(0,r.kt)("strong",{parentName:"h3"},"b. Modify the Handlebars Template")),(0,r.kt)("p",null,"In your UI bundle, open the file located at ",(0,r.kt)("inlineCode",{parentName:"p"},"src/partials/head-scripts.hbs"),". Append the following to include the PushFeedback stylesheet:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-<link",metastring:'rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pushfeedback/dist/pushfeedback/pushfeedback.css">',rel:'"stylesheet"',href:'"https://cdn.jsdelivr.net/npm/pushfeedback/dist/pushfeedback/pushfeedback.css">'},"")),(0,r.kt)("p",null,"Then, open the file located at ",(0,r.kt)("inlineCode",{parentName:"p"},"src/partials/footer-scripts.hbs"),". Append the following to include the PushFeedback script:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-<script",metastring:'type="module" src="https://cdn.jsdelivr.net/npm/pushfeedback/dist/pushfeedback/pushfeedback.esm.js"><\/script>',type:'"module"',src:'"https://cdn.jsdelivr.net/npm/pushfeedback/dist/pushfeedback/pushfeedback.esm.js"><\/script>'},"")),(0,r.kt)("h3",{id:"c-build-the-ui-bundle"},(0,r.kt)("strong",{parentName:"h3"},"c. Build the UI Bundle")),(0,r.kt)("p",null,"Ensure you've installed necessary dependencies and build the UI:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-npm",metastring:"install",install:!0},"gulp bundle\n")),(0,r.kt)("h2",{id:"2-add-the-feedback-button-component"},(0,r.kt)("strong",{parentName:"h2"},"2. Add the Feedback Button Component")),(0,r.kt)("p",null,"To place the feedback button across your Antora site, modify the Handlebars template where you'd like it to appear. For instance, to have it on every page, you might modify ",(0,r.kt)("inlineCode",{parentName:"p"},"src/partials/page-footer.hbs"),":"),(0,r.kt)("p",null,"Append the following:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-<feedback-button",metastring:'project="<YOUR_PROJECT_ID>">Send feedback</feedback-button>',project:'"<YOUR_PROJECT_ID>">Send',"feedback</feedback-button>":!0},"")),(0,r.kt)("p",null,"Replace ",(0,r.kt)("inlineCode",{parentName:"p"},"<YOUR_PROJECT_ID>")," with your actual PushFeedback project ID."),(0,r.kt)("h2",{id:"3-update-the-antora-playbook"},(0,r.kt)("strong",{parentName:"h2"},"3. Update the Antora Playbook")),(0,r.kt)("p",null,"In your Antora playbook (",(0,r.kt)("inlineCode",{parentName:"p"},"antora-playbook.yml")," or similar), ensure the UI bundle is correctly referenced:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ui:"},"  bundle:\n    url: ./path-to-your-ui-bundle/build/ui-bundle.zip\n    snapshot: true\n")),(0,r.kt)("p",null,"Replace ",(0,r.kt)("inlineCode",{parentName:"p"},"path-to-your-ui-bundle")," with the actual path."),(0,r.kt)("h2",{id:"4-generate-and-verify"},(0,r.kt)("strong",{parentName:"h2"},"4. Generate and Verify")),(0,r.kt)("p",null,"Run Antora to generate your site:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-antora",metastring:"antora-playbook.yml","antora-playbook.yml":!0},"")),(0,r.kt)("p",null,"Inspect the generated site to ensure the PushFeedback button is present and functioning correctly."),(0,r.kt)("h2",{id:"final-thoughts"},(0,r.kt)("strong",{parentName:"h2"},"Final Thoughts")),(0,r.kt)("p",null,"Integrating feedback mechanisms like PushFeedback into your documentation can greatly enhance its quality by providing direct insights from your readers. Make the most of it!"))}c.isMDXComponent=!0}}]);